<template name="character_list_page">
  <div class='character_list form_area'>
    <div class='title'>Список персонажей</div>
    <ul>
      {{#each character_list}}
        <li class='character {{selectedClass}}'>{{name}}</li>
      {{/each}}
    </ul>
  </div>
  <div class='character_edit form_area'>
    <div class='title'>Редатикторвание персонажа <b>{{selectedCharacter.name}}</b></div>
    <form name='character_edit'>
      <div class='main'>
        <div class='name'><span>Имя персонажа:</span><input type='text' name='name' value='{{selectedCharacter.name}}'></div>
        <div class='class'><span>Класс персонажа:</span><input type='text' name='class' value='{{selectedCharacter.class}}'></div>
        <div class='lvl_hero'><span>Уровень:</span><input type='text' name='lvl_hero' value='{{selectedCharacter.lvls.hero}}'></div>
        <div class='exp_hero'><span>Опыт:</span><input type='text' name='exp_hero' value='{{selectedCharacter.exp.hero}}'></div>
        <div>
          <span>Харастеристика боя:</span>
          <select name='main_props'>
          {{#each characterMainAttr selectedCharacter.main_props}}
            <option name='{{id}}' {{selected}}>{{name}}</option>
          {{/each}}
          </select>
        </div>  
      </div>
      <div class='props'>
        <b>Характеристики:</b>
        <div><span>Сила:</span><input type='text' name='str' value='{{selectedCharacter.props.str}}'></div>
        <div><span>Ловкость:</span><input type='text' name='agi' value='{{selectedCharacter.props.agi}}'></div>
        <div><span>Телосложение:</span><input type='text' name='sta' value='{{selectedCharacter.props.sta}}'></div>
        <div><span>Интелект:</span><input type='text' name='int' value='{{selectedCharacter.props.int}}'></div>
        <div><span>Мудрость:</span><input type='text' name='wis' value='{{selectedCharacter.props.wis}}'></div>
        <div><span>Харизма:</span><input type='text' name='cha' value='{{selectedCharacter.props.cha}}'></div>
        <div><span>Мастерство:</span><input type='text' name='mas' value='{{selectedCharacter.props.mas}}'></div>
        <div><span>Жизни:</span><input type='text' name='hp' value='{{selectedCharacter.props.hp}}'></div>
      </div>
      <div class='exp'>
        <b>Опыт:</b>
        <div class='exp_hp'><span>Опыт здоровья:</span><input type='text' name='exp_hp' value='{{selectedCharacter.exp.hp}}'></div>
        <div class='exp_melle'><span>Опыт ближнего боя:</span><input type='text' name='exp_melle' value='{{selectedCharacter.exp.melle}}'></div>
        <div class='exp_fire'><span>Опыт магии огня:</span><input type='text' name='exp_fire' value='{{selectedCharacter.exp.magic.fire}}'></div>
        <div class='exp_water'><span>Опыт магии воды:</span><input type='text' name='exp_water' value='{{selectedCharacter.exp.magic.water}}'></div>
        <div class='exp_earth'><span>Опыт магии земли:</span><input type='text' name='exp_earth' value='{{selectedCharacter.exp.magic.earth}}'></div>
        <div class='exp_air'><span>Опыт магии воздуха:</span><input type='text' name='exp_air' value='{{selectedCharacter.exp.magic.air}}'></div>
        <div class='exp_shine'><span>Опыт магии света:</span><input type='text' name='exp_shine' value='{{selectedCharacter.exp.magic.shine}}'></div>
        <div class='exp_dark'><span>Опыт магии тьмы:</span><input type='text' name='exp_dark' value='{{selectedCharacter.exp.magic.dark}}'></div>
        <br/>
        <div class='exp_attr1'><span>Опыт доп 1:</span><input type='text' name='exp_attr1' value='{{selectedCharacter.exp.other.attr1}}'></div>
        <div class='exp_attr2'><span>Опыт доп 2:</span><input type='text' name='exp_attr2' value='{{selectedCharacter.exp.other.attr2}}'></div>
        <div class='exp_attr3'><span>Опыт доп 3:</span><input type='text' name='exp_attr3' value='{{selectedCharacter.exp.other.attr3}}'></div>
      </div>
      <div class='lvls'>
        <b>Уровни:</b>
        <div><span>Здоровья:</span><input type='text' name='lvl_hp' value='{{selectedCharacter.lvls.hp}}'></div>
        <div><span>Попадания:</span><input type='text' name='lvl_hit' value='{{selectedCharacter.lvls.hit}}'></div>
        <div><span>Урона:</span><input type='text' name='lvl_dmg' value='{{selectedCharacter.lvls.dmg}}'></div>

        <div>
          <span>Огня:</span><input type='text' name='lvl_fire' value='{{selectedCharacter.lvls.fire}}'>
          <input class='checkbox' type='checkbox' name='magic_fire' {{characterGetCheckedAttr(selectedCharacter.main.fire)}}>
        </div>
        <div>
          <span>Воды:</span><input type='text' name='lvl_water' value='{{selectedCharacter.lvls.water}}'>
          <input class='checkbox' type='checkbox' name='magic_water' {{characterGetCheckedAttr(selectedCharacter.main.water)}}>
        </div>
        <div>
          <span>Земли:</span><input type='text' name='lvl_earth' value='{{selectedCharacter.lvls.earth}}'>
          <input class='checkbox' type='checkbox' name='magic_earth' {{characterGetCheckedAttr(selectedCharacter.main.earth)}}>
        </div>
        <div>
          <span>Воздуха:</span><input type='text' name='lvl_air' value='{{selectedCharacter.lvls.air}}'>
          <input class='checkbox' type='checkbox' name='magic_air' {{characterGetCheckedAttr(selectedCharacter.main.air)}}>
        </div>
        <div>
          <span>Света:</span><input type='text' name='lvl_shine' value='{{selectedCharacter.lvls.shine}}'>
          <input class='checkbox' type='checkbox' name='magic_shine' {{characterGetCheckedAttr(selectedCharacter.main.shine)}}>
        </div>
        <div>
          <span>Тьмы:</span><input type='text' name='lvl_dark' value='{{selectedCharacter.lvls.dark}}'>
          <input class='checkbox' type='checkbox' name='magic_dark' {{characterGetCheckedAttr(selectedCharacter.main.dark)}}>
        </div>
      </div>
      {{#if currentUser.isAdmin}}
        <div class='buttons'>
          <div class='character_upsert btn'>Сохранить</div>
          {{#if selectedCharacter}}
            <div class='character_delete btn'>Удалить</div>
            <div class='character_clear btn'>Очистить</div>
          {{/if}}
        </div>
      {{/if}}
    </form>
  </div>
</template>
